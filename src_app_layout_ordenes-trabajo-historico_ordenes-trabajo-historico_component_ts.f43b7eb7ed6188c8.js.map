{"version":3,"file":"src_app_layout_ordenes-trabajo-historico_ordenes-trabajo-historico_component_ts.f43b7eb7ed6188c8.js","mappings":"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","sources":["./src/app/layout/ordenes-trabajo-historico/ordenes-trabajo-historico.component.ts","./src/app/layout/ordenes-trabajo-historico/ordenes-trabajo-historico.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit, ViewChild, inject  } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PrimeNgModule } from '../shared/prime-ng/prime-ng.module';\n\nimport { itemColumn } from 'src/app/interfaces/tablet.interface';\nimport { OrdenTrabajo } from '../../interfaces/tarea.interface';\nimport { TareaService } from '../../services/tarea.service';\nimport { Subscription } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { CustomMessageService } from 'src/app/services/custom-message.service';\nimport { Table } from 'primeng/table';\nimport { environment } from 'src/environments/environment';\nimport { Usuario } from 'src/app/interfaces/login/login-respuesta.interface';\nimport { UsuarioService } from 'src/app/services/auth/usuario.service';\nimport { EnumService } from 'src/app/services/enum.service';\n\n@Component({\n  selector: 'app-ordenes-trabajo-historico',\n  standalone: true,\n  imports: [CommonModule, PrimeNgModule],\n  templateUrl: './ordenes-trabajo-historico.component.html',\n  styleUrls: ['./ordenes-trabajo-historico.component.scss']\n})\nexport class OrdenesTrabajoHistoricoComponent implements OnInit, OnDestroy {\n  @ViewChild('dt') dt: Table | undefined;\n\n  url: string = environment.API_URL;\n\n  totalRecords: number = 0;\n  mostrarDel: number = 1;\n  mostrarAl: number = 10;\n\n  private readonly tareaService: TareaService = inject(TareaService);\n  private readonly router: Router = inject(Router);\n  private readonly usuarioService = inject(UsuarioService);\n  private readonly messageService = inject(CustomMessageService);\n  private readonly enumService = inject(EnumService);\n\n  private subs: Subscription[] = [];\n\n  public cols: itemColumn[] = [];\n  public selectEstadoOrden: any[] = [];\n  public estadoOrdenToSearch: string;\n  public ordenesTrabajo: OrdenTrabajo[] = [];\n\n  public loading = true;\n\n  public valorNulleable;\n  public valorNulleable2;\n\n  public usuarios: Usuario[] = [];\n\n  public usuario: Usuario;\n\n  ngOnInit() {\n    this.cols = [\n      { field: 'nombre', header: 'Nombre' },\n      { field: 'descripcion', header: 'Descripcion' },\n      { field: 'estado', header: 'Estado' },\n      // { field: 'usuario', header: 'Asignado' },\n    ];\n\n    this.usuario = JSON.parse(localStorage.getItem('usuario'))\n\n    // this.cargarUsuarios();\n    this.cargarEstadosOrden()\n  }\n\n  applyFilterGlobal($event: any, stringVal: any) {\n    this.dt!.filterGlobal(\n      ($event.target as HTMLInputElement).value,\n      'contains'\n    );\n  }\n\n  cargarEstadosOrden() {\n    this.subs.push(\n      this.enumService.getEnum('estado_orden_trabajo').subscribe({\n        next: (res) => (this.selectEstadoOrden = res),\n        error: (error) => this.messageService.error(error.error.detail),\n      })\n    );\n  }\n\n  // buscarAsignado(valueToSearch: string) {\n  //   this.dt!.filterGlobal(\n  //     ($event.target as HTMLInputElement).value,\n  //     'contains'\n  //   );\n  // }\n\n  clear(table: Table) {\n    table.clear();\n    (document.getElementById('buscador') as any).value = '';\n    this.valorNulleable = null;\n    // (document.getElementById('buscadorAsignado') as any).value = '';\n  }\n\n  // cargarUsuarios() {\n  //   this.usuarioService.getUsuarios().subscribe({\n  //     next: (res) => {\n  //       console.log(res);\n  //       this.usuarios = res;\n  //     },\n  //     error: (err) => {\n  //       console.error(err);\n  //       this.messageService.error(\n  //         'Hubo un error al cargar el select de usuarios'\n  //       );\n  //     },\n  //   });\n  // }\n\n  loadCustomers(event: any) {\n    console.log(event);\n    this.loading = true;\n\n    const first = event.first ? event.first : 0;\n    const rows = event.rows ? event.rows : 1;\n    const page = first / rows + 1;\n\n    var endPoint =\n      this.url + `/ordenes_trabajo_paginate?page=${page}&itemsPerPage=${rows}`;\n\n    if (event.globalFilter) {\n      endPoint =\n        endPoint +\n        `&nombre=${event.globalFilter}&descripcion=${event.globalFilter}`;\n    }\n\n    // if (\n    //   event.filters['usuario'] &&\n    //   event.filters['usuario'] != undefined &&\n    //   event.filters['usuario'].value != null\n    // ) {\n    //   endPoint = endPoint + `&usuario=${event.filters['usuario'].value}`;\n    // } else if (\n    //   event.filters['usuario'] &&\n    //   event.filters['usuario'][0] != undefined &&\n    //   event.filters['usuario'][0].value != null\n    // ) {\n    //   endPoint = endPoint + `&usuario=${event.filters['usuario'][0].value}`;\n    // }\n\n    endPoint = endPoint + `&usuario=${this.usuario.nombre}`;\n\n    if (\n      event.filters['estado'] &&\n      event.filters['estado'] != undefined &&\n      event.filters['estado'].value != null\n    ) {\n      endPoint = endPoint + `&estado=${event.filters['estado'].value}`;\n    } else if (\n      event.filters['estado'] &&\n      event.filters['estado'][0] != undefined &&\n      event.filters['estado'][0].value != null\n    ) {\n      endPoint = endPoint + `&estado=${event.filters['estado'][0].value.value}`;\n    }\n\n    if (event.sortField) {\n      endPoint = endPoint + `&ordenCampo=${event.sortField}`;\n\n      if (event.sortOrder == 1) {\n        endPoint = endPoint + '&ordenTipo=ASC';\n      }\n\n      if (event.sortOrder == -1) {\n        endPoint = endPoint + '&ordenTipo=DESC';\n      }\n    }\n    this.cargarOrdenesTrabajosP(endPoint, first, rows);\n  }\n\n  cargarOrdenesTrabajosP(url: string, first: number, rows: number) {\n    this.subs.push(\n      this.tareaService.getOrdenesTrabajosPaginadas(url).subscribe(\n        (response) => {\n          console.log(response);\n          this.ordenesTrabajo = response.data;\n          this.loading = false;\n          // this.totalRecords = response.total;\n          this.totalRecords = response.totalItems;\n          this.loading = false;\n          this.mostrarDel = first + 1;\n          this.mostrarAl = this.mostrarDel + rows - 1;\n          if (this.mostrarAl > this.totalRecords) {\n            this.mostrarAl = this.totalRecords;\n          }\n        },\n        (error) => {\n          console.error(error);\n          this.loading = false;\n          this.messageService.error(error.error.detail);\n        }\n      )\n    );\n  }\n\n  ngOnDestroy(): void {\n    // cerramos todas las subscripciones abiertas\n    this.subs.forEach((subscripcion) => {\n      subscripcion.unsubscribe();\n    });\n  }\n\n  navegarAMostrar(id: number): void {\n    console.log(id);\n    sessionStorage.setItem('lastUrlOrden', '/ordenes-trabajos-historico')\n    this.router.navigateByUrl(`ordenes-trabajo/mostrar/${id}`);\n  }\n}\n","<div class=\"grid\">\n  <div class=\"col-12\">\n    <div class=\"card px-6 py-6\">\n      <p-toolbar styleClass=\"toolbar-sin-bordes mb-3\">\n        <ng-template pTemplate=\"left\">\n          <button\n            pButton\n            pRipple\n            type=\"button\"\n            icon=\"pi pi-replay\"\n            class=\"p-button-rounded\"\n            [routerLink]=\"['/']\"\n          ></button>\n        </ng-template>\n  \n        <ng-template pTemplate=\"right\"> </ng-template>\n      </p-toolbar>\n      <p-toolbar styleClass=\"toolbar-sin-bordes\">\n        <ng-template pTemplate=\"left\">\n          <div class=\"my-2\">\n            <h2 class=\"mb-0\">Ordenes de Trabajo</h2>\n          </div>\n        </ng-template>\n      </p-toolbar>\n      <hr class=\"mt-1\" />\n\n      <p-table\n        #dt\n        [value]=\"ordenesTrabajo\"\n        [columns]=\"cols\"\n        [lazy]=\"true\"\n        (onLazyLoad)=\"loadCustomers($event)\"\n        [loading]=\"loading\"\n        [paginator]=\"true\"\n        [rows]=\"10\"\n        [rowsPerPageOptions]=\"[10, 20, 30]\"\n        [totalRecords]=\"totalRecords\"\n        [globalFilterFields]=\"['descripcion', 'nombre']\"\n        responsiveLayout=\"scroll\"\n        [showCurrentPageReport]=\"true\"\n        currentPageReportTemplate=\"Del {{ mostrarDel }} al {{\n          mostrarAl\n        }} para {{ totalRecords }} Registros\"\n        selectionMode=\"multiple\"\n        [rowHover]=\"true\"\n        dataKey=\"id\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div\n            class=\"flex flex-column md:flex-row md:justify-content-between md:align-items-center\"\n          >\n            <!-- <button\n              pButton\n              pRipple\n              type=\"button\"\n              icon=\"pi pi-plus\"\n              class=\"p-button-rounded p-button-success\"\n              [routerLink]=\"['nueva']\"\n            ></button> -->\n            <div\n              class=\"flex flex-column md:flex-row md:justify-content-end md:align-items-center\"\n            >\n              <button\n                pButton\n                label=\"Filtros\"\n                class=\"mr-2 p-button-outlined my-2 md:my-0\"\n                icon=\"pi pi-filter-slash\"\n                (click)=\"clear(dt)\"\n              ></button>\n              <p-dropdown\n                id=\"selctEstado\"\n                [options]=\"selectEstadoOrden\"\n                (onChange)=\"dt.filter($event.value, 'estado', 'contains')\"\n                placeholder=\"Estado\"\n                [(ngModel)]=\"valorNulleable\"\n                [showClear]=\"true\"\n                class=\"mr-2 max-w-full\"\n              >\n              </p-dropdown>\n              <!-- <p-dropdown\n                id=\"selectUsuario\"\n                [options]=\"usuarios\"\n                (onChange)=\"dt.filter($event.value, 'usuario', 'contains')\"\n                placeholder=\"Asignado\"\n                [(ngModel)]=\"valorNulleable2\"\n                [showClear]=\"true\"\n                optionValue=\"nombre\"\n                optionLabel=\"nombre\"\n                [filter]=\"true\"\n                class=\"mr-2 max-w-full\"\n              ></p-dropdown> -->\n              <span class=\"block mt-2 md:mt-0 p-input-icon-left\">\n                <span class=\"p-input-icon-left ml-auto\">\n                  <i class=\"pi pi-search\"></i>\n                  <input\n                    id=\"buscador\"\n                    pInputText\n                    input\n                    type=\"text\"\n                    (input)=\"\n                      dt.filterGlobal($any($event).target.value, 'contains')\n                    \"\n                    placeholder=\"Buscar\"\n                    class=\"max-w-max\"\n                  />\n                </span>\n              </span>\n            </div>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <ng-container *ngFor=\"let col of cols\">\n              <th [pSortableColumn]=\"col.field\">\n                {{ col.header }}\n                <p-sortIcon [field]=\"col.field\"></p-sortIcon>\n              </th>\n            </ng-container>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-ordenTrabajo>\n          <tr (click)=\"navegarAMostrar(ordenTrabajo.id)\">\n            <td style=\"min-width: 10rem\" *ngFor=\"let col of cols\">\n              <span class=\"p-column-title\">{{ col.field }} </span>\n              {{ ordenTrabajo[col.field] ? ordenTrabajo[col.field] : \"N/A\" }}\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td>*No hay Ordenes de trabajo registradas*</td>\n          </tr>\n        </ng-template>\n      </p-table>\n    </div>\n  </div>\n</div>\n"],"names":["inject","CommonModule","PrimeNgModule","TareaService","Router","CustomMessageService","environment","UsuarioService","EnumService","i0","ɵɵelement","ɵɵproperty","ɵɵpureFunction0","_c1","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","OrdenesTrabajoHistoricoComponent_ng_template_11_Template_button_click_2_listener","ɵɵrestoreView","_r9","ctx_r8","ɵɵnextContext","_r3","ɵɵreference","ɵɵresetView","clear","OrdenesTrabajoHistoricoComponent_ng_template_11_Template_p_dropdown_onChange_3_listener","$event","filter","value","OrdenesTrabajoHistoricoComponent_ng_template_11_Template_p_dropdown_ngModelChange_3_listener","ctx_r11","valorNulleable","OrdenesTrabajoHistoricoComponent_ng_template_11_Template_input_input_7_listener","filterGlobal","target","ɵɵadvance","ctx_r4","selectEstadoOrden","ɵɵelementContainerStart","ɵɵelementContainerEnd","col_r14","field","ɵɵtextInterpolate1","header","ɵɵtemplate","OrdenesTrabajoHistoricoComponent_ng_template_12_ng_container_1_Template","ctx_r5","cols","col_r17","ordenTrabajo_r15","OrdenesTrabajoHistoricoComponent_ng_template_13_Template_tr_click_0_listener","restoredCtx","_r20","$implicit","ctx_r19","navegarAMostrar","id","OrdenesTrabajoHistoricoComponent_ng_template_13_td_1_Template","ctx_r6","OrdenesTrabajoHistoricoComponent","constructor","url","API_URL","totalRecords","mostrarDel","mostrarAl","tareaService","router","usuarioService","messageService","enumService","subs","ordenesTrabajo","loading","usuarios","ngOnInit","usuario","JSON","parse","localStorage","getItem","cargarEstadosOrden","applyFilterGlobal","stringVal","dt","push","getEnum","subscribe","next","res","error","detail","table","document","getElementById","loadCustomers","event","console","log","first","rows","page","endPoint","globalFilter","nombre","filters","undefined","sortField","sortOrder","cargarOrdenesTrabajosP","getOrdenesTrabajosPaginadas","response","data","totalItems","ngOnDestroy","forEach","subscripcion","unsubscribe","sessionStorage","setItem","navigateByUrl","selectors","viewQuery","OrdenesTrabajoHistoricoComponent_Query","rf","ctx","OrdenesTrabajoHistoricoComponent_ng_template_4_Template","OrdenesTrabajoHistoricoComponent_ng_template_5_Template","OrdenesTrabajoHistoricoComponent_ng_template_7_Template","OrdenesTrabajoHistoricoComponent_Template_p_table_onLazyLoad_9_listener","OrdenesTrabajoHistoricoComponent_ng_template_11_Template","OrdenesTrabajoHistoricoComponent_ng_template_12_Template","OrdenesTrabajoHistoricoComponent_ng_template_13_Template","OrdenesTrabajoHistoricoComponent_ng_template_14_Template","ɵɵpropertyInterpolate3","_c2","_c3","i1","NgForOf","i2","Table","i3","PrimeTemplate","SortableColumn","SortIcon","i4","ButtonDirective","i5","NgControlStatus","NgModel","i6","Ripple","i7","Toolbar","i8","InputText","i9","Dropdown","i10","RouterLink","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}